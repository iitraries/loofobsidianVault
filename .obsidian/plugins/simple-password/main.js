/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var pr=Object.defineProperty;var Vi=Object.getOwnPropertyDescriptor;var Ui=Object.getOwnPropertyNames;var Hi=Object.prototype.hasOwnProperty;var Yi=(e,t,r)=>t in e?pr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Gi=(e,t)=>{for(var r in t)pr(e,r,{get:t[r],enumerable:!0})},ji=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Ui(t))!Hi.call(e,o)&&o!==r&&pr(e,o,{get:()=>t[o],enumerable:!(n=Vi(t,o))||n.enumerable});return e};var Wi=e=>ji(pr({},"__esModule",{value:!0}),e);var ue=(e,t,r)=>(Yi(e,typeof t!="symbol"?t+"":t,r),r),zr=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var D=(e,t,r)=>(zr(e,t,"read from private field"),r?r.call(e):t.get(e)),Qe=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},bt=(e,t,r,n)=>(zr(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);var so=(e,t,r)=>(zr(e,t,"access private method"),r);var ta={};Gi(ta,{default:()=>jr});module.exports=Wi(ta);var Ze=require("obsidian");var ce=require("obsidian");var Xn=require("obsidian");var fo,lo,ao=(lo=(fo=globalThis.process)==null?void 0:fo.env)==null?void 0:lo.NODE_ENV,m=ao&&!ao.toLowerCase().startsWith("prod");var Ne=Array.isArray,co=Array.prototype.indexOf,Ft=Array.from,Kr=Object.keys,U=Object.defineProperty,be=Object.getOwnPropertyDescriptor,Zr=Object.getOwnPropertyDescriptors,Qr=Object.prototype,uo=Array.prototype,wt=Object.getPrototypeOf,Xr=Object.isExtensible;var ie=()=>{};function Bt(e){for(var t=0;t<e.length;t++)e[t]()}var se=Symbol("$state"),qt=Symbol("legacy props"),po=Symbol("");function dr(e){return e===this.v}function Vt(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function xt(e){return!Vt(e,this.v)}function Jr(){if(m){let e=new Error("bind_invalid_checkbox_value\nUsing `bind:value` together with a checkbox input is not allowed. Use `bind:checked` instead\nhttps://svelte.dev/e/bind_invalid_checkbox_value");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/bind_invalid_checkbox_value")}function _o(){if(m){let e=new Error(`derived_references_self
A derived value cannot reference itself recursively
https://svelte.dev/e/derived_references_self`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/derived_references_self")}function mo(e){if(m){let t=new Error(`effect_in_teardown
\`${e}\` cannot be used inside an effect cleanup function
https://svelte.dev/e/effect_in_teardown`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_in_teardown")}function ho(){if(m){let e=new Error("effect_in_unowned_derived\nEffect cannot be created inside a `$derived` value that was not itself created inside an effect\nhttps://svelte.dev/e/effect_in_unowned_derived");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function vo(e){if(m){let t=new Error(`effect_orphan
\`${e}\` can only be used inside an effect (e.g. during component initialisation)
https://svelte.dev/e/effect_orphan`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_orphan")}function go(){if(m){let e=new Error(`effect_update_depth_exceeded
Maximum update depth exceeded. This can happen when a reactive block or effect repeatedly sets a new value. Svelte limits the number of nested updates to prevent infinite loops
https://svelte.dev/e/effect_update_depth_exceeded`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function bo(){if(m){let e=new Error(`hydration_failed
Failed to hydrate the application
https://svelte.dev/e/hydration_failed`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/hydration_failed")}function wo(e){if(m){let t=new Error(`props_invalid_value
Cannot do \`bind:${e}={undefined}\` when \`${e}\` has a fallback value
https://svelte.dev/e/props_invalid_value`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/props_invalid_value")}function xo(e){if(m){let t=new Error(`rune_outside_svelte
The \`${e}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files
https://svelte.dev/e/rune_outside_svelte`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/rune_outside_svelte")}function yo(){if(m){let e=new Error("state_descriptors_fixed\nProperty descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.\nhttps://svelte.dev/e/state_descriptors_fixed");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Eo(){if(m){let e=new Error("state_prototype_fixed\nCannot set prototype of `$state` object\nhttps://svelte.dev/e/state_prototype_fixed");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_prototype_fixed")}function $o(){if(m){let e=new Error("state_unsafe_mutation\nUpdating state inside a derived or a template expression is forbidden. If the value should not be reactive, declare it without `$state`\nhttps://svelte.dev/e/state_unsafe_mutation");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_unsafe_mutation")}var He=!1,Oe=!1;var Xe="[",Je="[!",ct="]";var et={};var O=Symbol(),Ce=Symbol("filename"),ko=Symbol("hmr"),To="http://www.w3.org/1999/xhtml";var Ut=null;function Ye(e){let t=Error(),r=t.stack;if(r){let n=r.split(`
`),o=[`
`];for(let i=0;i<n.length;i++){let s=n[i];if(s!=="Error"){if(s.includes("validate_each_keys"))return null;s.includes("svelte/src/internal")||o.push(s)}}if(o.length===1)return null;U(t,"stack",{value:o.join(`
`)}),U(t,"name",{value:`${e}Error`})}return t}function _r(e){if(m){let t=new Error(`lifecycle_outside_component
\`${e}(...)\` can only be used during component initialisation
https://svelte.dev/e/lifecycle_outside_component`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/lifecycle_outside_component")}var S=null;function Yt(e){S=e}var Ie=null;function Gt(e){Ie=e}function pe(e,t=!1,r){var n=S={p:S,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};He&&!t&&(S.l={s:null,u:null,r1:[],r2:xe(!1)}),ee(()=>{n.d=!0}),m&&(S.function=r,Ie=r)}function de(e){var s,f;let t=S;if(t!==null){e!==void 0&&(t.x=e);let l=t.e;if(l!==null){var r=y,n=$;t.e=null;try{for(var o=0;o<l.length;o++){var i=l[o];H(i.effect),M(i.reaction),ye(i.fn)}}finally{H(r),M(n)}}S=t.p,m&&(Ie=(f=(s=t.p)==null?void 0:s.function)!=null?f:null),t.m=!0}return e||{}}function Me(){return!He||S!==null&&S.l===null}function Fe(e){if(typeof e!="object"||e===null||se in e)return e;let t=wt(e);if(t!==Qr&&t!==uo)return e;var r=new Map,n=Ne(e),o=F(0),i=m&&Oe?Ye("CreatedAt"):null,s=$,f=l=>{var a=$;M(s);var u=l();return M(a),u};return n&&r.set("length",F(e.length,i)),new Proxy(e,{defineProperty(l,a,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&yo();var p=r.get(a);return p===void 0?(p=f(()=>F(u.value,i)),r.set(a,p)):R(p,f(()=>Fe(u.value))),!0},deleteProperty(l,a){var u=r.get(a);if(u===void 0)a in l&&r.set(a,f(()=>F(O,i)));else{if(n&&typeof a=="string"){var p=r.get("length"),c=Number(a);Number.isInteger(c)&&c<p.v&&R(p,c)}R(u,O),Ao(o)}return!0},get(l,a,u){var _;if(a===se)return e;var p=r.get(a),c=a in l;if(p===void 0&&(!c||(_=be(l,a))!=null&&_.writable)&&(p=f(()=>F(Fe(c?l[a]:O),i)),r.set(a,p)),p!==void 0){var d=g(p);return d===O?void 0:d}return Reflect.get(l,a,u)},getOwnPropertyDescriptor(l,a){var u=Reflect.getOwnPropertyDescriptor(l,a);if(u&&"value"in u){var p=r.get(a);p&&(u.value=g(p))}else if(u===void 0){var c=r.get(a),d=c==null?void 0:c.v;if(c!==void 0&&d!==O)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return u},has(l,a){var d;if(a===se)return!0;var u=r.get(a),p=u!==void 0&&u.v!==O||Reflect.has(l,a);if(u!==void 0||y!==null&&(!p||(d=be(l,a))!=null&&d.writable)){u===void 0&&(u=f(()=>F(p?Fe(l[a]):O,i)),r.set(a,u));var c=g(u);if(c===O)return!1}return p},set(l,a,u,p){var A;var c=r.get(a),d=a in l;if(n&&a==="length")for(var _=u;_<c.v;_+=1){var h=r.get(_+"");h!==void 0?R(h,O):_ in l&&(h=f(()=>F(O,i)),r.set(_+"",h))}c===void 0?(!d||(A=be(l,a))!=null&&A.writable)&&(c=f(()=>F(void 0,i)),R(c,f(()=>Fe(u))),r.set(a,c)):(d=c.v!==O,R(c,f(()=>Fe(u))));var E=Reflect.getOwnPropertyDescriptor(l,a);if(E!=null&&E.set&&E.set.call(p,u),!d){if(n&&typeof a=="string"){var x=r.get("length"),T=Number(a);Number.isInteger(T)&&T>=x.v&&R(x,T+1)}Ao(o)}return!0},ownKeys(l){g(o);var a=Reflect.ownKeys(l).filter(c=>{var d=r.get(c);return d===void 0||d.v!==O});for(var[u,p]of r)p.v!==O&&!(u in l)&&a.push(u);return a},setPrototypeOf(){Eo()}})}function Ao(e,t=1){R(e,e.v+t)}function mr(e){try{if(e!==null&&typeof e=="object"&&se in e)return e[se]}catch(t){}return e}function tt(e){var t=2050,r=$!==null&&$.f&2?$:null;y===null||r!==null&&r.f&256?t|=256:y.f|=1048576;let n={ctx:S,deps:null,effects:null,equals:dr,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:r!=null?r:y};return m&&Oe&&(n.created=Ye("CreatedAt")),n}function sn(e){let t=tt(e);return gr(t),t}function jt(e){let t=tt(e);return t.equals=xt,t}function hr(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)W(t[r])}}var rn=[];function Zi(e){for(var t=e.parent;t!==null;){if(!(t.f&2))return t;t=t.parent}return null}function an(e){var t,r=y;if(H(Zi(e)),m){let n=ut;nn(new Set);try{rn.includes(e)&&_o(),rn.push(e),hr(e),t=vr(e)}finally{H(r),nn(n),rn.pop()}}else try{hr(e),t=vr(e)}finally{H(r)}return t}function fn(e){var t=an(e),r=(Ge||e.f&256)&&e.deps!==null?4096:1024;z(e,r),e.equals(t)||(e.v=t,e.wv=Wt())}var ut=new Set,yt=new Map;function nn(e){ut=e}function xe(e,t){var r={f:0,v:e,reactions:null,equals:dr,rv:0,wv:0};return m&&Oe&&(r.created=t!=null?t:Ye("CreatedAt"),r.debug=null),r}function F(e,t){let r=xe(e,t);return gr(r),r}function Be(e,t=!1){var n,o;let r=xe(e);return t||(r.equals=xt),He&&S!==null&&S.l!==null&&((o=(n=S.l).s)!=null?o:n.s=[]).push(r),r}function R(e,t,r=!1){var o;$!==null&&!Ee&&Me()&&$.f&18&&!((o=ae)!=null&&o.includes(e))&&$o();let n=r?Fe(t):t;return $t(e,n)}function $t(e,t){var n;if(!e.equals(t)){var r=e.v;if(pt?yt.set(e,t):yt.set(e,r),e.v=t,m&&Oe&&(e.updated=Ye("UpdatedAt"),y!=null&&(e.trace_need_increase=!0,(n=e.trace_v)!=null||(e.trace_v=r))),e.f&2&&(e.f&2048&&an(e),z(e,e.f&256?4096:1024)),e.wv=Wt(),No(e,2048),Me()&&y!==null&&y.f&1024&&!(y.f&96)&&(me===null?Co([e]):me.push(e)),m&&ut.size>0){let o=Array.from(ut);for(let i of o)i.f&1024&&z(i,4096),rt(i)&&kt(i);ut.clear()}}return t}function br(e,t=1){var r=g(e),n=t===1?r++:r--;return R(e,r),n}function No(e,t){var r=e.reactions;if(r!==null)for(var n=Me(),o=r.length,i=0;i<o;i++){var s=r[i],f=s.f;if(!(f&2048)&&!(!n&&s===y)){if(m&&f&262144){ut.add(s);continue}z(s,t),f&1280&&(f&2?No(s,4096):Tt(s))}}}var wr="font-weight: bold",xr="font-weight: normal";function Io(e,t,r){m?console.warn(`%c[svelte] hydration_attribute_changed
%cThe \`${e}\` attribute on \`${t}\` changed its value between server and client renders. The client value, \`${r}\`, will be ignored in favour of the server value
https://svelte.dev/e/hydration_attribute_changed`,wr,xr):console.warn("https://svelte.dev/e/hydration_attribute_changed")}function St(e){m?console.warn(`%c[svelte] hydration_mismatch
%c${e?`Hydration failed because the initial UI does not match what was rendered on the server. The error occurred near ${e}`:"Hydration failed because the initial UI does not match what was rendered on the server"}
https://svelte.dev/e/hydration_mismatch`,wr,xr):console.warn("https://svelte.dev/e/hydration_mismatch")}function Ro(){m?console.warn(`%c[svelte] lifecycle_double_unmount
%cTried to unmount a component that was not mounted
https://svelte.dev/e/lifecycle_double_unmount`,wr,xr):console.warn("https://svelte.dev/e/lifecycle_double_unmount")}function yr(e){m?console.warn(`%c[svelte] state_proxy_equality_mismatch
%cReactive \`$state(...)\` proxies and the values they proxy have different identities. Because of this, comparisons with \`${e}\` will produce unexpected results
https://svelte.dev/e/state_proxy_equality_mismatch`,wr,xr):console.warn("https://svelte.dev/e/state_proxy_equality_mismatch")}var w=!1;function Y(e){w=e}var k;function P(e){if(e===null)throw St(),et;return k=e}function K(){return P(re(k))}function ke(e){if(w){if(re(k)!==null)throw St(),et;k=e}}function dt(){for(var e=0,t=k;;){if(t.nodeType===8){var r=t.data;if(r===ct){if(e===0)return t;e-=1}else(r===Xe||r===Je)&&(e+=1)}var n=re(t);t.remove(),t=n}}function Lo(){let e=Array.prototype,t=Array.__svelte_cleanup;t&&t();let{indexOf:r,lastIndexOf:n,includes:o}=e;e.indexOf=function(i,s){let f=r.call(this,i,s);if(f===-1){for(let l=s!=null?s:0;l<this.length;l+=1)if(mr(this[l])===i){yr("array.indexOf(...)");break}}return f},e.lastIndexOf=function(i,s){let f=n.call(this,i,s!=null?s:this.length-1);if(f===-1){for(let l=0;l<=(s!=null?s:this.length-1);l+=1)if(mr(this[l])===i){yr("array.lastIndexOf(...)");break}}return f},e.includes=function(i,s){let f=o.call(this,i,s);if(!f){for(let l=0;l<this.length;l+=1)if(mr(this[l])===i){yr("array.includes(...)");break}}return f},Array.__svelte_cleanup=()=>{e.indexOf=r,e.lastIndexOf=n,e.includes=o}}var cn,Do,zt,Po,Oo;function Er(){if(cn===void 0){cn=window,Do=document,zt=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;Po=be(t,"firstChild").get,Oo=be(t,"nextSibling").get,Xr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Xr(r)&&(r.__t=void 0),m&&(e.__svelte_meta=null,Lo())}}function Te(e=""){return document.createTextNode(e)}function Z(e){return Po.call(e)}function re(e){return Oo.call(e)}function Se(e,t){if(!w)return Z(e);var r=Z(k);if(r===null)r=k.appendChild(Te());else if(t&&r.nodeType!==3){var n=Te();return r==null||r.before(n),P(n),n}return P(r),r}function We(e,t){var o,i;if(!w){var r=Z(e);return r instanceof Comment&&r.data===""?re(r):r}if(t&&((o=k)==null?void 0:o.nodeType)!==3){var n=Te();return(i=k)==null||i.before(n),P(n),n}return k}function G(e,t=1,r=!1){let n=w?k:e;for(var o;t--;)o=n,n=re(n);if(!w)return n;var i=n==null?void 0:n.nodeType;if(r&&i!==3){var s=Te();return n===null?o==null||o.after(s):n.before(s),P(s),s}return P(n),n}function Kt(e){e.textContent=""}function Bo(e){y===null&&$===null&&vo(e),$!==null&&$.f&256&&y===null&&ho(),pt&&mo(e)}function Qi(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function _t(e,t,r,n=!0){var l;var o=y;if(m)for(;o!==null&&o.f&262144;)o=o.parent;var i={ctx:S,deps:null,nodes_start:null,nodes_end:null,f:e|2048,first:null,fn:t,last:null,next:null,parent:o,prev:null,teardown:null,transitions:null,wv:0};if(m&&(i.component_function=Ie),r)try{kt(i),i.f|=32768}catch(a){throw W(i),a}else t!==null&&Tt(i);var s=r&&i.deps===null&&i.first===null&&i.nodes_start===null&&i.teardown===null&&(i.f&1048704)===0;if(!s&&n&&(o!==null&&Qi(i,o),$!==null&&$.f&2)){var f=$;((l=f.effects)!=null?l:f.effects=[]).push(i)}return i}function ee(e){let t=_t(8,null,!1);return z(t,1024),t.teardown=e,t}function kr(e){var o;Bo("$effect");var t=y!==null&&(y.f&32)!==0&&S!==null&&!S.m;if(m&&U(e,"name",{value:"$effect"}),t){var r=S;((o=r.e)!=null?o:r.e=[]).push({fn:e,effect:y,reaction:$})}else{var n=ye(e);return n}}function Tr(e){let t=_t(64,e,!0);return()=>{W(t)}}function qo(e){let t=_t(64,e,!0);return(r={})=>new Promise(n=>{r.outro?De(t,()=>{W(t),n(void 0)}):(W(t),n(void 0))})}function ye(e){return _t(4,e,!1)}function ne(e){return _t(8,e,!0)}function he(e,t=[],r=tt){let n=t.map(r),o=()=>e(...n.map(g));return m&&U(o,"name",{value:"{expression}"}),fe(o)}function fe(e,t=0){return _t(24|t,e,!0)}function Q(e,t=!0){return _t(40,e,!0,t)}function dn(e){var t=e.teardown;if(t!==null){let r=pt,n=$;un(!0),M(null);try{t.call(null)}finally{un(r),M(n)}}}function _n(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){var n=r.next;r.f&64?r.parent=null:W(r,t),r=n}}function Vo(e){for(var t=e.first;t!==null;){var r=t.next;t.f&32||W(t),t=r}}function W(e,t=!0){var r=!1;if((t||e.f&524288)&&e.nodes_start!==null){for(var n=e.nodes_start,o=e.nodes_end;n!==null;){var i=n===o?null:re(n);n.remove(),n=i}r=!0}_n(e,t&&!r),Qt(e,0),z(e,16384);var s=e.transitions;if(s!==null)for(let l of s)l.stop();dn(e);var f=e.parent;f!==null&&f.first!==null&&mn(e),m&&(e.component_function=null),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function mn(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function De(e,t){var r=[];Sr(e,r,!0),hn(r,()=>{W(e),t&&t()})}function hn(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var o of e)o.out(n)}else t()}function Sr(e,t,r){if(!(e.f&8192)){if(e.f^=8192,e.transitions!==null)for(let s of e.transitions)(s.is_global||r)&&t.push(s);for(var n=e.first;n!==null;){var o=n.next,i=(n.f&65536)!==0||(n.f&32)!==0;Sr(n,t,i?r:!1),n=o}}}function nt(e){Uo(e,!0)}function Uo(e,t){if(e.f&8192){e.f^=8192,e.f&1024||(e.f^=1024),rt(e)&&(z(e,2048),Tt(e));for(var r=e.first;r!==null;){var n=r.next,o=(r.f&65536)!==0||(r.f&32)!==0;Uo(r,o?t:!1),r=n}if(e.transitions!==null)for(let i of e.transitions)(i.is_global||t)&&i.in()}}var Xi=typeof requestIdleCallback=="undefined"?e=>setTimeout(e,1):requestIdleCallback,Xt=[],Jt=[];function Ho(){var e=Xt;Xt=[],Bt(e)}function Yo(){var e=Jt;Jt=[],Bt(e)}function le(e){Xt.length===0&&queueMicrotask(Ho),Xt.push(e)}function Go(e){Jt.length===0&&Xi(Yo),Jt.push(e)}function vn(){Xt.length>0&&Ho(),Jt.length>0&&Yo()}var jo=new WeakSet,Ar=!1,rr=!1,er=null,mt=!1,pt=!1;function un(e){pt=e}var tr=[],Cr=[],$=null,Ee=!1;function M(e){$=e}var y=null;function H(e){y=e}var ae=null;function gr(e){$!==null&&$.f&2097152&&(ae===null?ae=[e]:ae.push(e))}var oe=null,ve=0,me=null;function Co(e){me=e}var Qo=1,Ir=0,Ge=!1,Ht=null;function Wt(){return++Qo}function rt(e){var p,c;var t=e.f;if(t&2048)return!0;if(t&4096){var r=e.deps,n=(t&256)!==0;if(r!==null){var o,i,s=(t&512)!==0,f=n&&y!==null&&!Ge,l=r.length;if(s||f){var a=e,u=a.parent;for(o=0;o<l;o++)i=r[o],(s||!((p=i==null?void 0:i.reactions)!=null&&p.includes(a)))&&((c=i.reactions)!=null?c:i.reactions=[]).push(a);s&&(a.f^=512),f&&u!==null&&!(u.f&256)&&(a.f^=256)}for(o=0;o<l;o++)if(i=r[o],rt(i)&&fn(i),i.wv>e.wv)return!0}(!n||y!==null&&!Ge)&&z(e,1024)}return!1}function Wo(e,t){for(var r=t;r!==null;){if(r.f&128)try{r.fn(e);return}catch(n){r.f^=128}r=r.parent}throw Ar=!1,e}function zo(e){return(e.f&16384)===0&&(e.parent===null||(e.parent.f&128)===0)}function Nt(e,t,r,n){var u,p;if(Ar){if(r===null&&(Ar=!1),zo(t))throw e;return}if(r!==null&&(Ar=!0),!m||n===null||!(e instanceof Error)||jo.has(e)){Wo(e,t);return}jo.add(e);let o=[],i=(u=t.fn)==null?void 0:u.name;i&&o.push(i);let s=n;for(;s!==null;){if(m){var f=(p=s.function)==null?void 0:p[Ce];if(f){let c=f.split("/").pop();o.push(c)}}s=s.p}let l=zt?"  ":"	";U(e,"message",{value:e.message+`
${o.map(c=>`
${l}in ${c}`).join("")}
`}),U(e,"component_stack",{value:o});let a=e.stack;if(a){let c=a.split(`
`),d=[];for(let _=0;_<c.length;_++){let h=c[_];h.includes("svelte/src/internal")||d.push(h)}U(e,"stack",{value:d.join(`
`)})}if(Wo(e,t),zo(t))throw e}function Xo(e,t,r=!0){var n=e.reactions;if(n!==null)for(var o=0;o<n.length;o++){var i=n[o];ae!=null&&ae.includes(e)||(i.f&2?Xo(i,t,!1):t===i&&(r?z(i,2048):i.f&1024&&z(i,4096),Tt(i)))}}function vr(e){var d,_;var t=oe,r=ve,n=me,o=$,i=Ge,s=ae,f=S,l=Ee,a=e.f;oe=null,ve=0,me=null,Ge=(a&256)!==0&&(Ee||!mt||$===null),$=a&96?null:e,ae=null,Yt(e.ctx),Ee=!1,Ir++,e.f|=2097152;try{var u=(0,e.fn)(),p=e.deps;if(oe!==null){var c;if(Qt(e,ve),p!==null&&ve>0)for(p.length=ve+oe.length,c=0;c<oe.length;c++)p[ve+c]=oe[c];else e.deps=p=oe;if(!Ge)for(c=ve;c<p.length;c++)((_=(d=p[c]).reactions)!=null?_:d.reactions=[]).push(e)}else p!==null&&ve<p.length&&(Qt(e,ve),p.length=ve);if(Me()&&me!==null&&!Ee&&p!==null&&!(e.f&6146))for(c=0;c<me.length;c++)Xo(me[c],e);return o!==e&&(Ir++,me!==null&&(n===null?n=me:n.push(...me))),u}finally{oe=t,ve=r,me=n,$=o,Ge=i,ae=s,Yt(f),Ee=l,e.f^=2097152}}function Ji(e,t){let r=t.reactions;if(r!==null){var n=co.call(r,e);if(n!==-1){var o=r.length-1;o===0?r=t.reactions=null:(r[n]=r[o],r.pop())}}r===null&&t.f&2&&(oe===null||!oe.includes(t))&&(z(t,4096),t.f&768||(t.f^=512),hr(t),Qt(t,0))}function Qt(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)Ji(e,r[n])}function kt(e){var t=e.f;if(!(t&16384)){z(e,1024);var r=y,n=S,o=mt;if(y=e,mt=!0,m){var i=Ie;Gt(e.component_function)}try{t&16?Vo(e):_n(e),dn(e);var s=vr(e);e.teardown=typeof s=="function"?s:null,e.wv=Qo;var f=e.deps;if(m&&Oe&&e.f&2048&&f!==null)for(let a=0;a<f.length;a++){var l=f[a];l.trace_need_increase&&(l.wv=Wt(),l.trace_need_increase=void 0,l.trace_v=void 0)}m&&Cr.push(e)}catch(a){Nt(a,e,r,n||e.ctx)}finally{mt=o,y=r,m&&Gt(i)}}}function Ko(){console.error("Last ten effects were: ",Cr.slice(-10).map(e=>e.fn)),Cr=[]}function es(){try{go()}catch(e){if(m&&U(e,"stack",{value:""}),er!==null)if(m)try{Nt(e,er,null,null)}catch(t){throw Ko(),t}else Nt(e,er,null,null);else throw m&&Ko(),e}}function bn(){var e=mt;try{var t=0;for(mt=!0;tr.length>0;){t++>1e3&&es();var r=tr,n=r.length;tr=[];for(var o=0;o<n;o++){var i=rs(r[o]);ts(i)}yt.clear()}}finally{rr=!1,mt=e,er=null,m&&(Cr=[])}}function ts(e){var t=e.length;if(t!==0)for(var r=0;r<t;r++){var n=e[r];if(!(n.f&24576))try{rt(n)&&(kt(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?mn(n):n.fn=null))}catch(o){Nt(o,n,null,n.ctx)}}}function Tt(e){rr||(rr=!0,queueMicrotask(bn));for(var t=er=e;t.parent!==null;){t=t.parent;var r=t.f;if(r&96){if(!(r&1024))return;t.f^=1024}}tr.push(t)}function rs(e){for(var t=[],r=e;r!==null;){var n=r.f,o=(n&96)!==0,i=o&&(n&1024)!==0;if(!i&&!(n&8192)){if(n&4)t.push(r);else if(o)r.f^=1024;else{var s=$;try{$=r,rt(r)&&kt(r)}catch(a){Nt(a,r,null,r.ctx)}finally{$=s}}var f=r.first;if(f!==null){r=f;continue}}var l=r.parent;for(r=r.next;r===null&&l!==null;)r=l.next,l=l.parent}return t}function nr(e){var t;for(e&&(rr=!0,bn(),t=e()),vn();tr.length>0;)rr=!0,bn(),vn();return t}function g(e){var t=e.f,r=(t&2)!==0;if(Ht!==null&&Ht.add(e),$!==null&&!Ee){if(!(ae!=null&&ae.includes(e))){var n=$.deps;e.rv<Ir&&(e.rv=Ir,oe===null&&n!==null&&n[ve]===e?ve++:oe===null?oe=[e]:(!Ge||!oe.includes(e))&&oe.push(e))}}else if(r&&e.deps===null&&e.effects===null){var o=e,i=o.parent;i!==null&&!(i.f&256)&&(o.f^=256)}if(r&&(o=e,rt(o)&&fn(o)),m&&Oe&&Ut!==null&&$!==null&&Ut.reaction===$){if(e.debug)e.debug();else if(e.created){var s=Ut.entries.get(e);s===void 0&&(s={read:[]},Ut.entries.set(e,s)),s.read.push(Ye("TracedAt"))}}return pt&&yt.has(e)?yt.get(e):e.v}function I(e){var t=Ee;try{return Ee=!0,e()}finally{Ee=t}}var ns=-7169;function z(e,t){e.f=e.f&ns|t}function Jo(e){return e.endsWith("capture")&&e!=="gotpointercapture"&&e!=="lostpointercapture"}var os=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function ei(e){return os.includes(e)}var is=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","webkitdirectory","defer","disablepictureinpicture","disableremoteplayback"];var ss={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function ti(e){var t;return e=e.toLowerCase(),(t=ss[e])!=null?t:e}var Qf=[...is,"formNoValidate","isMap","noModule","playsInline","readOnly","value","volume","defaultValue","defaultChecked","srcObject","noValidate","allowFullscreen","disablePictureInPicture","disableRemotePlayback"];var as=["touchstart","touchmove"];function ri(e){return as.includes(e)}var oi=new Map;function ii(e,t){var r=oi.get(e);r||(r=new Set,oi.set(e,r)),r.add(t)}function or(e,t){if(t){let r=document.body;e.autofocus=!0,le(()=>{document.activeElement===r&&e.focus()})}}var si=!1;function Rr(){si||(si=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(let r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function ir(e){var t=$,r=y;M(null),H(null);try{return e()}finally{M(t),H(r)}}function wn(e,t,r,n=r){e.addEventListener(t,()=>ir(r));let o=e.__on_r;o?e.__on_r=()=>{o(),n(!0)}:e.__on_r=()=>n(!0),Rr()}var xn=new Set,Lr=new Set;function yn(e,t,r,n={}){function o(i){if(n.capture||Ct.call(t,i),!i.cancelBubble)return ir(()=>r==null?void 0:r.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?le(()=>{t.addEventListener(e,o,n)}):t.addEventListener(e,o,n),o}function sr(e,t,r,n,o){var i={capture:n,passive:o},s=yn(e,t,r,i);(t===document.body||t===window||t===document)&&ee(()=>{t.removeEventListener(e,s,i)})}function En(e){for(var t=0;t<e.length;t++)xn.add(e[t]);for(var r of Lr)r(e)}function Ct(e){var T;var t=this,r=t.ownerDocument,n=e.type,o=((T=e.composedPath)==null?void 0:T.call(e))||[],i=o[0]||e.target,s=0,f=e.__root;if(f){var l=o.indexOf(f);if(l!==-1&&(t===document||t===window)){e.__root=t;return}var a=o.indexOf(t);if(a===-1)return;l<=a&&(s=l)}if(i=o[s]||e.target,i!==t){U(e,"currentTarget",{configurable:!0,get(){return i||r}});var u=$,p=y;M(null),H(null);try{for(var c,d=[];i!==null;){var _=i.assignedSlot||i.parentNode||i.host||null;try{var h=i["__"+n];if(h!=null&&(!i.disabled||e.target===i))if(Ne(h)){var[E,...x]=h;E.apply(i,[e,...x])}else h.call(i,e)}catch(A){c?d.push(A):c=A}if(e.cancelBubble||_===t||_===null)break;i=_}if(c){for(let A of d)queueMicrotask(()=>{throw A});throw c}}finally{e.__root=t,delete e.currentTarget,M(u),H(p)}}}var fs;function ai(){fs=void 0}function Dr(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function Ve(e,t){var r=y;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function X(e,t){var r=(t&1)!==0,n=(t&2)!==0,o,i=!e.startsWith("<!>");return()=>{if(w)return Ve(k,null),k;o===void 0&&(o=Dr(i?e:"<!>"+e),r||(o=Z(o)));var s=n||zt?document.importNode(o,!0):o.cloneNode(!0);if(r){var f=Z(s),l=s.lastChild;Ve(f,l)}else Ve(s,s);return s}}function $n(){if(w)return Ve(k,null),k;var e=document.createDocumentFragment(),t=document.createComment(""),r=Te();return e.append(t,r),Ve(t,r),e}function q(e,t){if(w){y.nodes_end=k,K();return}e!==null&&e.before(t)}var kn=!0;function Sn(e,t){var n;var r=t==null?"":typeof t=="object"?t+"":t;r!==((n=e.__t)!=null?n:e.__t=e.nodeValue)&&(e.__t=r,e.nodeValue=r+"")}function ze(e,t){return fi(e,t)}function An(e,t){var s;Er(),t.intro=(s=t.intro)!=null?s:!1;let r=t.target,n=w,o=k;try{for(var i=Z(r);i&&(i.nodeType!==8||i.data!==Xe);)i=re(i);if(!i)throw et;Y(!0),P(i),K();let f=fi(e,{...t,anchor:i});if(k===null||k.nodeType!==8||k.data!==ct)throw St(),et;return Y(!1),f}catch(f){if(f===et)return t.recover===!1&&bo(),Er(),Kt(r),Y(!1),ze(e,t);throw f}finally{Y(n),P(o),ai()}}var It=new Map;function fi(e,{target:t,anchor:r,props:n={},events:o,context:i,intro:s=!0}){Er();var f=new Set,l=p=>{for(var c=0;c<p.length;c++){var d=p[c];if(!f.has(d)){f.add(d);var _=ri(d);t.addEventListener(d,Ct,{passive:_});var h=It.get(d);h===void 0?(document.addEventListener(d,Ct,{passive:_}),It.set(d,1)):It.set(d,h+1)}}};l(Ft(xn)),Lr.add(l);var a=void 0,u=qo(()=>{var p=r!=null?r:t.appendChild(Te());return Q(()=>{if(i){pe({});var c=S;c.c=i}o&&(n.$$events=o),w&&Ve(p,null),kn=s,a=e(p,n)||{},kn=!0,w&&(y.nodes_end=k),i&&de()}),()=>{var _;for(var c of f){t.removeEventListener(c,Ct);var d=It.get(c);--d===0?(document.removeEventListener(c,Ct),It.delete(c)):It.set(c,d)}Lr.delete(l),p!==r&&((_=p.parentNode)==null||_.removeChild(p))}});return Tn.set(a,u),a}var Tn=new WeakMap;function ot(e,t){let r=Tn.get(e);return r?(Tn.delete(e),r(t)):(m&&Ro(),Promise.resolve())}function it(e,t,[r,n]=[0,0]){w&&r===0&&K();var o=e,i=null,s=null,f=O,l=r>0?65536:0,a=!1;let u=(c,d=!0)=>{a=!0,p(d,c)},p=(c,d)=>{if(f===(f=c))return;let _=!1;if(w&&n!==-1){if(r===0){let E=o.data;E===Xe?n=0:E===Je?n=1/0:(n=parseInt(E.substring(1)),n!==n&&(n=f?1/0:-1))}let h=n>r;!!f===h&&(o=dt(),P(o),Y(!1),_=!0,n=-1)}f?(i?nt(i):d&&(i=Q(()=>d(o))),s&&De(s,()=>{s=null})):(s?nt(s):d&&(s=Q(()=>d(o,[r+1,n]))),i&&De(i,()=>{i=null})),_&&Y(!0)};fe(()=>{a=!1,t(u),a||p(null,null)},l),w&&(o=k)}var ar=null;function In(e,t){return t}function _s(e,t,r,n){for(var o=[],i=t.length,s=0;s<i;s++)Sr(t[s].e,o,!0);var f=i>0&&o.length===0&&r!==null;if(f){var l=r.parentNode;Kt(l),l.append(r),n.clear(),st(e,t[0].prev,t[i-1].next)}hn(o,()=>{for(var a=0;a<i;a++){var u=t[a];f||(n.delete(u.k),st(e,u.prev,u.next)),W(u.e,!f)}})}function Rn(e,t,r,n,o,i=null){var s=e,f={flags:t,items:new Map,first:null},l=(t&4)!==0;if(l){var a=e;s=w?P(Z(a)):a.appendChild(Te())}w&&K();var u=null,p=!1,c=jt(()=>{var d=r();return Ne(d)?d:d==null?[]:Ft(d)});fe(()=>{var d=g(c),_=d.length;if(p&&_===0)return;p=_===0;let h=!1;if(w){var E=s.data===Je;E!==(_===0)&&(s=dt(),P(s),Y(!1),h=!0)}if(w){for(var x=null,T,A=0;A<_;A++){if(k.nodeType===8&&k.data===ct){s=k,h=!0,Y(!1);break}var v=d[A],b=n(v,A);T=ui(k,f,x,null,v,b,A,o,t,r),f.items.set(b,T),x=T}_>0&&P(dt())}w||ms(d,f,s,o,t,n,r),i!==null&&(_===0?u?nt(u):u=Q(()=>i(s)):u!==null&&De(u,()=>{u=null})),h&&Y(!0),g(c)}),w&&(s=k)}function ms(e,t,r,n,o,i,s){var to,ro,no,oo;var f=(o&8)!==0,l=(o&3)!==0,a=e.length,u=t.items,p=t.first,c=p,d,_=null,h,E=[],x=[],T,A,v,b;if(f)for(b=0;b<a;b+=1)T=e[b],A=i(T,b),v=u.get(A),v!==void 0&&((to=v.a)==null||to.measure(),(h!=null?h:h=new Set).add(v));for(b=0;b<a;b+=1){if(T=e[b],A=i(T,b),v=u.get(A),v===void 0){var N=c?c.e.nodes_start:r;_=ui(N,t,_,_===null?t.first:_.next,T,A,b,n,o,s),u.set(A,_),E=[],x=[],c=_.next;continue}if(l&&hs(v,T,b,o),v.e.f&8192&&(nt(v.e),f&&((ro=v.a)==null||ro.unfix(),(h!=null?h:h=new Set).delete(v))),v!==c){if(d!==void 0&&d.has(v)){if(E.length<x.length){var V=x[0],C;_=V.prev;var L=E[0],ge=E[E.length-1];for(C=0;C<E.length;C+=1)li(E[C],V,r);for(C=0;C<x.length;C+=1)d.delete(x[C]);st(t,L.prev,ge.next),st(t,_,L),st(t,ge,V),c=V,_=ge,b-=1,E=[],x=[]}else d.delete(v),li(v,c,r),st(t,v.prev,v.next),st(t,v,_===null?t.first:_.next),st(t,_,v),_=v;continue}for(E=[],x=[];c!==null&&c.k!==A;)c.e.f&8192||(d!=null?d:d=new Set).add(c),x.push(c),c=c.next;if(c===null)continue;v=c}E.push(v),_=v,c=v.next}if(c!==null||d!==void 0){for(var Ue=d===void 0?[]:Ft(d);c!==null;)c.e.f&8192||Ue.push(c),c=c.next;var Wr=Ue.length;if(Wr>0){var qi=o&4&&a===0?r:null;if(f){for(b=0;b<Wr;b+=1)(no=Ue[b].a)==null||no.measure();for(b=0;b<Wr;b+=1)(oo=Ue[b].a)==null||oo.fix()}_s(t,Ue,qi,u)}}f&&le(()=>{var io;if(h!==void 0)for(v of h)(io=v.a)==null||io.apply()}),y.first=t.first&&t.first.e,y.last=_&&_.e}function hs(e,t,r,n){n&1&&$t(e.v,t),n&2?$t(e.i,r):e.i=r}function ui(e,t,r,n,o,i,s,f,l,a){var u=ar,p=(l&1)!==0,c=(l&16)===0,d=p?c?Be(o):xe(o):o,_=l&2?xe(s):s;m&&p&&(d.debug=()=>{var E=typeof _=="number"?s:_.v;a()[E]});var h={i:_,v:d,k:i,a:null,e:null,prev:r,next:n};ar=h;try{return h.e=Q(()=>f(e,d,_,a),w),h.e.prev=r&&r.e,h.e.next=n&&n.e,r===null?t.first=h:(r.next=h,r.e.next=h.e),n!==null&&(n.prev=h,n.e.prev=h.e),h}finally{ar=u}}function li(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,o=t?t.e.nodes_start:r,i=e.e.nodes_start;i!==n;){var s=re(i);o.before(i),i=s}}function st(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function ht(e,t){le(()=>{var o;var r=e.getRootNode(),n=r.host?r:(o=r.head)!=null?o:r.ownerDocument.head;if(!n.querySelector("#"+t.hash)){let i=document.createElement("style");i.id=t.hash,i.textContent=t.code,n.appendChild(i),m&&ii(t.hash,i)}})}function di(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=di(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function _i(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=di(e))&&(n&&(n+=" "),n+=t);return n}function Dn(e){return typeof e=="object"?_i(e):e!=null?e:""}var mi=[...` 	
\r\f\xA0\v\uFEFF`];function vi(e,t,r){var n=e==null?"":""+e;if(t&&(n=n?n+" "+t:t),r){for(var o in r)if(r[o])n=n?n+" "+o:o;else if(n.length)for(var i=o.length,s=0;(s=n.indexOf(o,s))>=0;){var f=s+i;(s===0||mi.includes(n[s-1]))&&(f===n.length||mi.includes(n[f]))?n=(s===0?"":n.substring(0,s))+n.substring(f+1):s=f}}return n===""?null:n}function hi(e,t=!1){var r=t?" !important;":";",n="";for(var o in e){var i=e[o];i!=null&&i!==""&&(n+=" "+o+": "+i+r)}return n}function Ln(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function gi(e,t){if(t){var r="",n,o;if(Array.isArray(t)?(n=t[0],o=t[1]):n=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,s=0,f=!1,l=[];n&&l.push(...Object.keys(n).map(Ln)),o&&l.push(...Object.keys(o).map(Ln));var a=0,u=-1;let h=e.length;for(var p=0;p<h;p++){var c=e[p];if(f?c==="/"&&e[p-1]==="*"&&(f=!1):i?i===c&&(i=!1):c==="/"&&e[p+1]==="*"?f=!0:c==='"'||c==="'"?i=c:c==="("?s++:c===")"&&s--,!f&&i===!1&&s===0){if(c===":"&&u===-1)u=p;else if(c===";"||p===h-1){if(u!==-1){var d=Ln(e.substring(a,u).trim());if(!l.includes(d)){c!==";"&&p++;var _=e.substring(a,p).trim();r+=" "+_+";"}}a=p+1,u=-1}}}}return n&&(r+=hi(n)),o&&(r+=hi(o,!0)),r=r.trim(),r===""?null:r}return e==null?null:String(e)}function Pn(e,t,r,n,o,i){var s=e.__className;if(w||s!==r||s===void 0){var f=vi(r,n,i);(!w||f!==e.getAttribute("class"))&&(f==null?e.removeAttribute("class"):t?e.className=f:e.setAttribute("class",f)),e.__className=r}else if(i&&o!==i)for(var l in i){var a=!!i[l];(o==null||a!==!!o[l])&&e.classList.toggle(l,a)}return i}function On(e,t={},r,n){for(var o in r){var i=r[o];t[o]!==i&&(r[o]==null?e.style.removeProperty(o):e.style.setProperty(o,i,n))}}function Mn(e,t,r,n){var o=e.__style;if(w||o!==t){var i=gi(t,n);(!w||i!==e.getAttribute("style"))&&(i==null?e.removeAttribute("style"):e.style.cssText=i),e.__style=t}else n&&(Array.isArray(n)?(On(e,r==null?void 0:r[0],n[0]),On(e,r==null?void 0:r[1],n[1],"important")):On(e,r,n));return n}var Rt=Symbol("class"),Lt=Symbol("style"),xi=Symbol("is custom element"),yi=Symbol("is html");function at(e){if(w){var t=!1,r=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var n=e.value;vt(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var o=e.checked;vt(e,"checked",null),e.checked=o}}};e.__on_r=r,Go(r),Rr()}}function Ei(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function vt(e,t,r,n){var o=$i(e);if(w&&(o[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")){n||gs(e,t,r!=null?r:"");return}o[t]!==(o[t]=r)&&(t==="loading"&&(e[po]=r),r==null?e.removeAttribute(t):typeof r!="string"&&ki(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function Pr(e,t,r,n,o=!1){var A;var i=$i(e),s=i[xi],f=!i[yi];let l=w&&s;l&&Y(!1);var a=t||{},u=e.tagName==="OPTION";for(var p in t)p in r||(r[p]=null);r.class?r.class=Dn(r.class):(n||r[Rt])&&(r.class=null),r[Lt]&&((A=r.style)!=null||(r.style=null));var c=ki(e);for(let v in r){let b=r[v];if(u&&v==="value"&&b==null){e.value=e.__value="",a[v]=b;continue}if(v==="class"){var d=e.namespaceURI==="http://www.w3.org/1999/xhtml";Pn(e,d,b,n,t==null?void 0:t[Rt],r[Rt]),a[v]=b,a[Rt]=r[Rt];continue}if(v==="style"){Mn(e,b,t==null?void 0:t[Lt],r[Lt]),a[v]=b,a[Lt]=r[Lt];continue}var _=a[v];if(b!==_){a[v]=b;var h=v[0]+v[1];if(h!=="$$")if(h==="on"){let N={},V="$$"+v,C=v.slice(2);var E=ei(C);if(Jo(C)&&(C=C.slice(0,-7),N.capture=!0),!E&&_){if(b!=null)continue;e.removeEventListener(C,a[V],N),a[V]=null}if(b!=null)if(E)e[`__${C}`]=b,En([C]);else{let L=function(ge){a[v].call(this,ge)};a[V]=yn(C,e,L,N)}else E&&(e[`__${C}`]=void 0)}else if(v==="style")vt(e,v,b);else if(v==="autofocus")or(e,Boolean(b));else if(!s&&(v==="__value"||v==="value"&&b!=null))e.value=e.__value=b;else if(v==="selected"&&u)Ei(e,b);else{var x=v;f||(x=ti(x));var T=x==="defaultValue"||x==="defaultChecked";if(b==null&&!s&&!T)if(i[v]=null,x==="value"||x==="checked"){let N=e,V=t===void 0;if(x==="value"){let C=N.defaultValue;N.removeAttribute(x),N.defaultValue=C,N.value=N.__value=V?C:null}else{let C=N.defaultChecked;N.removeAttribute(x),N.defaultChecked=C,N.checked=V?C:!1}}else e.removeAttribute(v);else T||c.includes(x)&&(s||typeof b!="string")?e[x]=b:typeof b!="function"&&vt(e,x,b,o)}}}return l&&Y(!0),a}function $i(e){var t;return(t=e.__attributes)!=null?t:e.__attributes={[xi]:e.nodeName.includes("-"),[yi]:e.namespaceURI===To}}var bi=new Map;function ki(e){var t=bi.get(e.nodeName);if(t)return t;bi.set(e.nodeName,t=[]);for(var r,n=e,o=Element.prototype;o!==n;){r=Zr(n);for(var i in r)r[i].set&&t.push(i);n=wt(n)}return t}function gs(e,t,r){var n;m&&(t==="srcset"&&bs(e,r)||Fn((n=e.getAttribute(t))!=null?n:"",r)||Io(t,e.outerHTML.replace(e.innerHTML,e.innerHTML&&"..."),String(r)))}function Fn(e,t){return e===t?!0:new URL(e,document.baseURI).href===new URL(t,document.baseURI).href}function wi(e){return e.split(",").map(t=>t.trim().split(" ").filter(Boolean))}function bs(e,t){var r=wi(e.srcset),n=wi(t);return n.length===r.length&&n.every(([o,i],s)=>i===r[s][1]&&(Fn(r[s][0],o)||Fn(o,r[s][0])))}function ft(e,t,r=t){var n=Me();wn(e,"input",o=>{m&&e.type==="checkbox"&&Jr();var i=o?e.defaultValue:e.value;if(i=Bn(e)?qn(i):i,r(i),n&&i!==(i=t())){var s=e.selectionStart,f=e.selectionEnd;e.value=i!=null?i:"",f!==null&&(e.selectionStart=s,e.selectionEnd=Math.min(f,e.value.length))}}),(w&&e.defaultValue!==e.value||I(t)==null&&e.value)&&r(Bn(e)?qn(e.value):e.value),ne(()=>{m&&e.type==="checkbox"&&Jr();var o=t();Bn(e)&&o===qn(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o!=null?o:"")})}function Bn(e){var t=e.type;return t==="number"||t==="range"}function qn(e){return e===""?null:+e}var lt,Dt,fr,Mr,Ti,Un=class{constructor(t){Qe(this,Mr);Qe(this,lt,new WeakMap);Qe(this,Dt,void 0);Qe(this,fr,void 0);bt(this,fr,t)}observe(t,r){var n=D(this,lt).get(t)||new Set;return n.add(r),D(this,lt).set(t,n),so(this,Mr,Ti).call(this).observe(t,D(this,fr)),()=>{var o=D(this,lt).get(t);o.delete(r),o.size===0&&(D(this,lt).delete(t),D(this,Dt).unobserve(t))}}},Vn=Un;lt=new WeakMap,Dt=new WeakMap,fr=new WeakMap,Mr=new WeakSet,Ti=function(){var t;return(t=D(this,Dt))!=null?t:bt(this,Dt,new ResizeObserver(r=>{for(var n of r){Un.entries.set(n.target,n);for(var o of D(this,lt).get(n.target)||[])o(n)}}))},ue(Vn,"entries",new WeakMap);function Si(e,t){return e===t||(e==null?void 0:e[se])===t}function gt(e={},t,r,n){return ye(()=>{var o,i;return ne(()=>{o=i,i=(n==null?void 0:n())||[],I(()=>{e!==r(...i)&&(t(e,...i),o&&Si(r(...o),e)&&t(null,...o))})}),()=>{le(()=>{i&&Si(r(...i),e)&&t(null,...i)})}}),e}function Fr(e,t,r){if(e==null)return t(void 0),r&&r(void 0),ie;let n=I(()=>e.subscribe(t,r));return n.unsubscribe?()=>n.unsubscribe():n}var Pt=[];function lr(e,t=ie){let r=null,n=new Set;function o(f){if(Vt(e,f)&&(e=f,r)){let l=!Pt.length;for(let a of n)a[1](),Pt.push(a,e);if(l){for(let a=0;a<Pt.length;a+=2)Pt[a][0](Pt[a+1]);Pt.length=0}}}function i(f){o(f(e))}function s(f,l=ie){let a=[f,l];return n.add(a),n.size===1&&(r=t(o,i)||ie),f(e),()=>{n.delete(a),n.size===0&&r&&(r(),r=null)}}return{set:o,update:i,subscribe:s}}function Ot(e){let t;return Fr(e,r=>t=r)(),t}var Br=!1,Yn=Symbol();function qr(e,t,r){var i;let n=(i=r[t])!=null?i:r[t]={store:null,source:Be(void 0),unsubscribe:ie};if(n.store!==e&&!(Yn in r))if(n.unsubscribe(),n.store=e!=null?e:null,e==null)n.source.v=void 0,n.unsubscribe=ie;else{var o=!0;n.unsubscribe=Fr(e,s=>{o?n.source.v=s:R(n.source,s)}),o=!1}return e&&Yn in r?Ot(e):g(n.source)}function Vr(e,t){return e.set(t),t}function Gn(){let e={};function t(){ee(()=>{for(var r in e)e[r].unsubscribe();U(e,Yn,{enumerable:!1,value:!0})})}return[e,t]}function jn(e,t,r){return e.set(r),t}function Wn(e){var t=Br;try{return Br=!1,[e(),Br]}finally{Br=t}}function Ai(e){var t,r;return(r=(t=e.ctx)==null?void 0:t.d)!=null?r:!1}function Pe(e,t,r,n){var V,C;var o=(r&1)!==0,i=!He||(r&2)!==0,s=(r&8)!==0,f=(r&16)!==0,l=!1,a;s?[a,l]=Wn(()=>e[t]):a=e[t];var u=se in e||qt in e,p=s&&((C=(V=be(e,t))==null?void 0:V.set)!=null?C:u&&t in e&&(L=>e[t]=L))||void 0,c=n,d=!0,_=!1,h=()=>(_=!0,d&&(d=!1,f?c=I(n):c=n),c);a===void 0&&n!==void 0&&(p&&i&&wo(t),a=h(),p&&p(a));var E;if(i)E=()=>{var L=e[t];return L===void 0?h():(d=!0,_=!1,L)};else{var x=(o?tt:jt)(()=>e[t]);x.f|=131072,E=()=>{var L=g(x);return L!==void 0&&(c=void 0),L===void 0?c:L}}if(!(r&4))return E;if(p){var T=e.$$legacy;return function(L,ge){return arguments.length>0?((!i||!ge||T||l)&&p(ge?E():L),L):E()}}var A=!1,v=!1,b=Be(a),N=tt(()=>{var L=E(),ge=g(b);return A?(A=!1,v=!0,ge):(v=!1,b.v=L)});return s&&g(N),o||(N.equals=xt),function(L,ge){if(Ht!==null&&(A=v,E(),g(b)),arguments.length>0){let Ue=ge?g(N):i&&s?Fe(L):L;if(!N.equals(Ue)){if(A=!0,R(b,Ue),_&&c!==void 0&&(c=Ue),Ai(N))return L;I(()=>g(N))}return L}return Ai(N)?N.v:g(N)}}function Ni(e){return new zn(e)}var Ke,Ae,zn=class{constructor(t){Qe(this,Ke,void 0);Qe(this,Ae,void 0);var i,s;var r=new Map,n=(f,l)=>{var a=Be(l);return r.set(f,a),a};let o=new Proxy({...t.props||{},$$events:{}},{get(f,l){var a;return g((a=r.get(l))!=null?a:n(l,Reflect.get(f,l)))},has(f,l){var a;return l===qt?!0:(g((a=r.get(l))!=null?a:n(l,Reflect.get(f,l))),Reflect.has(f,l))},set(f,l,a){var u;return R((u=r.get(l))!=null?u:n(l,a),a),Reflect.set(f,l,a)}});bt(this,Ae,(t.hydrate?An:ze)(t.component,{target:t.target,anchor:t.anchor,props:o,context:t.context,intro:(i=t.intro)!=null?i:!1,recover:t.recover})),(!((s=t==null?void 0:t.props)!=null&&s.$$host)||t.sync===!1)&&nr(),bt(this,Ke,o.$$events);for(let f of Object.keys(D(this,Ae)))f==="$set"||f==="$destroy"||f==="$on"||U(this,f,{get(){return D(this,Ae)[f]},set(l){D(this,Ae)[f]=l},enumerable:!0});D(this,Ae).$set=f=>{Object.assign(o,f)},D(this,Ae).$destroy=()=>{ot(D(this,Ae))}}$set(t){D(this,Ae).$set(t)}$on(t,r){D(this,Ke)[t]=D(this,Ke)[t]||[];let n=(...o)=>r.call(this,...o);return D(this,Ke)[t].push(n),()=>{D(this,Ke)[t]=D(this,Ke)[t].filter(o=>o!==n)}}$destroy(){D(this,Ae).$destroy()}};Ke=new WeakMap,Ae=new WeakMap;var Ps;typeof HTMLElement=="function"&&(Ps=class extends HTMLElement{constructor(t,r,n){super();ue(this,"$$ctor");ue(this,"$$s");ue(this,"$$c");ue(this,"$$cn",!1);ue(this,"$$d",{});ue(this,"$$r",!1);ue(this,"$$p_d",{});ue(this,"$$l",{});ue(this,"$$l_u",new Map);ue(this,"$$me");this.$$ctor=t,this.$$s=r,n&&this.attachShadow({mode:"open"})}addEventListener(t,r,n){if(this.$$l[t]=this.$$l[t]||[],this.$$l[t].push(r),this.$$c){let o=this.$$c.$on(t,r);this.$$l_u.set(r,o)}super.addEventListener(t,r,n)}removeEventListener(t,r,n){if(super.removeEventListener(t,r,n),this.$$c){let o=this.$$l_u.get(r);o&&(o(),this.$$l_u.delete(r))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let t=function(o){return i=>{let s=document.createElement("slot");o!=="default"&&(s.name=o),q(i,s)}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;let r={},n=Os(this);for(let o of this.$$s)o in n&&(o==="default"&&!this.$$d.children?(this.$$d.children=t(o),r.default=!0):r[o]=t(o));for(let o of this.attributes){let i=this.$$g_p(o.name);i in this.$$d||(this.$$d[i]=Kn(i,o.value,this.$$p_d,"toProp"))}for(let o in this.$$p_d)!(o in this.$$d)&&this[o]!==void 0&&(this.$$d[o]=this[o],delete this[o]);this.$$c=Ni({component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots:r,$$host:this}}),this.$$me=Tr(()=>{ne(()=>{var o;this.$$r=!0;for(let i of Kr(this.$$c)){if(!((o=this.$$p_d[i])!=null&&o.reflect))continue;this.$$d[i]=this.$$c[i];let s=Kn(i,this.$$d[i],this.$$p_d,"toAttribute");s==null?this.removeAttribute(this.$$p_d[i].attribute||i):this.setAttribute(this.$$p_d[i].attribute||i,s)}this.$$r=!1})});for(let o in this.$$l)for(let i of this.$$l[o]){let s=this.$$c.$on(o,i);this.$$l_u.set(i,s)}this.$$l={}}}attributeChangedCallback(t,r,n){var o;this.$$r||(t=this.$$g_p(t),this.$$d[t]=Kn(t,n,this.$$p_d,"toProp"),(o=this.$$c)==null||o.$set({[t]:this.$$d[t]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$me(),this.$$c=void 0)})}$$g_p(t){return Kr(this.$$p_d).find(r=>this.$$p_d[r].attribute===t||!this.$$p_d[r].attribute&&r.toLowerCase()===t)||t}});function Kn(e,t,r,n){var i;let o=(i=r[e])==null?void 0:i.type;if(t=o==="Boolean"&&typeof t!="boolean"?t!=null:t,!n||!r[e])return t;if(n==="toAttribute")switch(o){case"Object":case"Array":return t==null?null:JSON.stringify(t);case"Boolean":return t?"":null;case"Number":return t==null?null:t;default:return t}else switch(o){case"Object":case"Array":return t&&JSON.parse(t);case"Boolean":return t;case"Number":return t!=null?+t:t;default:return t}}function Os(e){let t={};return e.childNodes.forEach(r=>{t[r.slot||"default"]=!0}),t}if(m){let e=function(t){if(!(t in globalThis)){let r;Object.defineProperty(globalThis,t,{configurable:!0,get:()=>{if(r!==void 0)return r;xo(t)},set:n=>{r=n}})}};e("$state"),e("$effect"),e("$derived"),e("$inspect"),e("$props"),e("$bindable")}function Ii(e){S===null&&_r("onMount"),He&&S.l!==null?Fs(S).m.push(e):kr(()=>{let t=I(e);if(typeof t=="function")return t})}function Fs(e){var r;var t=e.l;return(r=t.u)!=null?r:t.u={a:[],b:[],m:[]}}var Ri="5";var Li,Di,Pi;typeof window!="undefined"&&((Pi=(Di=(Li=window.__svelte)!=null?Li:window.__svelte={}).v)!=null?Pi:Di.v=new Set).add(Ri);var Bs=X('Hint: <span class="sp-hint svelte-isha82"> </span>',1),qs=X('<p class="sp-wrong">Wrong password! <!></p>'),Vs=X('<div class="sp-password-input svelte-isha82"><input type="password" class="svelte-isha82"> <!></div>'),Us={hash:"svelte-isha82",code:".sp-hint.svelte-isha82 {font-style:italic;}.sp-password-input.svelte-isha82 {width:100%;}input.svelte-isha82 {width:100%;}"};function ur(e,t){pe(t,!0),ht(e,Us);let r=F(0),n=Pe(t,"value",15,""),o=Pe(t,"placeholder",3,"Password");function i(u){let p=n()==t.correctPassword;return u&&n(""),p?!0:(br(r),!1)}var s=Vs(),f=Se(s);at(f),or(f,!0);var l=G(f,2);{var a=u=>{var p=qs(),c=G(Se(p));{var d=_=>{var h=Bs(),E=G(We(h)),x=Se(E,!0);ke(E),he(()=>Sn(x,t.hint)),q(_,h)};it(c,_=>{g(r)>2&&t.hint&&_(d)})}ke(p),q(u,p)};it(l,u=>{g(r)>0&&u(a)})}return ke(s),he(()=>vt(f,"placeholder",o())),ft(f,n),q(e,s),de({submit:i})}var Hs=X('<p>This file is protected, please input your password</p> <form class="sp-container"><!> <button type="submit" aria-label="Submit button" class="mod-cta">Ok</button></form>',1);function Zn(e,t){pe(t,!0);let r=Pe(t,"onCorrect",3,()=>{}),n,o=F("");var i=Hs(),s=G(We(i),2),f=Se(s);gt(ur(f,{get correctPassword(){return t.correctPassword},get hint(){return t.hint},get value(){return g(o)},set value(a){R(o,a,!0)}}),a=>n=a,()=>n);var l=G(f,2);ke(s),he(()=>l.disabled=g(o)==""),sr("submit",s,a=>{a.preventDefault(),a.stopPropagation(),n.submit(!0)&&r()()}),q(e,i),de()}var Ys=X('<p class="sp-wrong">Password needs to be longer than 3 chracters</p>'),Gs=X(`<p class="sp-wrong">Passwords don't match</p>`),js=X('<form class="sp-container sp-container-new-password svelte-ngj5u5"><!> <input type="password" placeholder="New password"> <input type="password" placeholder="Confirm password"> <!> <button type="submit" aria-label="Submit" class="mod-cta">Submit</button></form>'),Ws={hash:"svelte-ngj5u5",code:".sp-container-new-password.svelte-ngj5u5 {flex-direction:column;}"};function Qn(e,t){pe(t,!0),ht(e,Ws);let r=F(""),n=F(""),o=F(""),i=Pe(t,"hint",3,""),s=Pe(t,"correctPassword",3,""),f=F(void 0),l=sn(()=>!!g(r)&&!!g(n)&&(g(r)!=g(n)||g(r).length<3));var a=js(),u=Se(a);{var p=x=>{gt(ur(x,{get correctPassword(){return s()},get hint(){return i()},placeholder:"Old password",get value(){return g(o)},set value(T){R(o,T,!0)}}),T=>R(f,T,!0),()=>g(f))};it(u,x=>{t.requireOldPassword&&x(p)})}var c=G(u,2);at(c);var d=G(c,2);at(d);var _=G(d,2);{var h=x=>{var T=$n(),A=We(T);{var v=N=>{var V=Ys();q(N,V)},b=N=>{var V=Gs();q(N,V)};it(A,N=>{g(r).length<3?N(v):N(b,!1)})}q(x,T)};it(_,x=>{g(l)&&x(h)})}var E=G(_,2);ke(a),he(()=>E.disabled=!g(r)||!g(n)||t.requireOldPassword!=!!g(o)||g(l)),sr("submit",a,x=>{x.preventDefault(),x.stopPropagation();let T=!0;g(f)&&!g(f).submit(!1)&&(T=!1),g(r)!=g(n)&&(T=!1),T&&t.onSubmit(g(r))}),ft(c,()=>g(r),x=>R(r,x)),ft(d,()=>g(n),x=>R(n,x)),q(e,a),de()}var Mt=class extends Xn.Modal{constructor(r,n,o){super(r);this.settings=n,this.callback=o,this.succeeded=!1}onOpen(){this.setTitle("Password required!"),this.shouldRestoreSelection=!0,this.containerEl.addClass("sp-modal-container"),this.containerEl.toggleClass("sp-modal-blur",this.settings.privacyMode=="blur"),this.svelteContent=ze(Zn,{target:this.contentEl,props:{correctPassword:this.settings.password,hint:this.settings.hint,onCorrect:()=>{this.succeeded=!0,this.close()}}})}close(){this.callback(this.succeeded),super.close()}async onClose(){ot(this.svelteContent,{outro:!0})}},Ur=class extends Xn.Modal{constructor(r,n,o){super(r);this.settings=n,this.callback=o,this.password=""}onOpen(){this.setTitle("Password required!"),this.shouldRestoreSelection=!0,this.containerEl.addClass("sp-modal-container"),this.containerEl.toggleClass("sp-modal-blur",this.settings.privacyMode=="blur"),this.svelteContent=ze(Qn,{target:this.contentEl,props:{requireOldPassword:this.settings.password!="",correctPassword:this.settings.password,hint:this.settings.hint,onSubmit:r=>{this.password=r,this.close()}}})}async onClose(){this.callback(this.password),ot(this.svelteContent,{outro:!0})}};var Ks=X('<input type="text" placeholder="Path">');function Jn(e,t){pe(t,!0);let r;Ii(()=>{new Hr(t.app,r).onSelect(i=>n(i))});let n=Pe(t,"path",15,"");var o=Ks();at(o),gt(o,i=>r=i,()=>r),he(()=>o.disabled=t.disabled),ft(o,n),q(e,o),de()}var Zs=X('<div class="sp-path-container svelte-1slo7s3"><!> <button>-</button></div>'),Qs=X('<hr> <h3>Protected paths</h3> <div class="sp-paths svelte-1slo7s3"><!> <button>+</button></div>',1),Xs={hash:"svelte-1slo7s3",code:".sp-paths.svelte-1slo7s3 {display:flex;flex-direction:column;gap:var(--size-4-2);}.mod-err.svelte-1slo7s3 {background:var(--background-modifier-error);}.sp-path-container.svelte-1slo7s3 {flex-grow:1;}"};function eo(e,t){pe(t,!0),ht(e,Xs);let[r,n]=Gn(),o=()=>qr(t.paths,"$paths",r),i=()=>qr(t.disabled,"$disabled",r);function s(c){return{onclick:c,onkeypress:d=>{(d.key==" "||d.key=="Enter")&&c()}}}var f=Qs(),l=G(We(f),4),a=Se(l);Rn(a,1,o,In,(c,d,_)=>{var h=Zs(),E=Se(h);Jn(E,{get app(){return t.app},get disabled(){return i()},get path(){return o()[_]},set path(A){jn(t.paths,I(o)[_]=A,I(o))}});var x=G(E,2);let T;ke(h),he(A=>T=Pr(x,T,{disabled:i(),class:"mod-err","aria-label":"Remove path",...A},"svelte-1slo7s3"),[()=>s(()=>{o().splice(_,1),Vr(t.paths,o())})]),q(c,h)});var u=G(a,2);let p;ke(l),he(c=>p=Pr(u,p,{disabled:i(),class:"mod-cta","aria-label":"Add new path",...c}),[()=>s(()=>Vr(t.paths,[...o(),"/"]))]),q(e,f),de(),n()}var Oi={autoLockMinutes:15,privacyMode:"blur",protectedPaths:["/"],hint:"",password:"",blockGraph:!0},Yr=class extends ce.PluginSettingTab{constructor(r,n){super(r,n);this.passwordSetting={};this.locked=lr(!0);this.plugin=n,this.locked.subscribe(o=>{!this.lockableSettings||!this.lockBtn||!this.lockSet||(o?(this.lockBtn.setIcon("unlock"),this.lockSet.setName("Unlock settings below")):(this.lockBtn.setIcon("lock"),this.lockSet.setName("Lock settings below")),this.lockableSettings.forEach(i=>{i.setDisabled(o)}))})}display(){let{containerEl:r}=this;r.empty(),r.addClass("sp-settings"),this.passwordSetting.setting=new ce.Setting(r).addButton(o=>{this.passwordSetting.btn=o,o.setCta().onClick(()=>{this.onPasswordChangeButton()})}),this.updateDisplayInPasswordBtn(),this.lockSet=new ce.Setting(r).setName("Unlock settings below").setDesc("The following settings are sensetive, and therefore require that you enter your password").addButton(o=>{o.setIcon("unlock").onClick(()=>this.onLockBtn()),this.lockBtn=o}).setDisabled(this.plugin.settings.password==""),r.createEl("hr"),this.lockableSettings=[new ce.Setting(r).setName("Auto lock minutes").setDesc("After x minutes of inactivity, lock the vault. Set to 0 for no auto lock").addText(o=>{o.setPlaceholder("# of Minutes").setValue(this.plugin.settings.autoLockMinutes.toString()),o.inputEl.type="number",o.onChange(i=>{let s=parseFloat(i);isNaN(s)||(this.plugin.settings.autoLockMinutes=s,this.plugin.resetAutolock(),this.plugin.saveSettings())})}).setDisabled(!0),new ce.Setting(r).setName("Privacy mode").setDesc("What should we do on lock?").addDropdown(o=>{o.addOptions({["blur"]:"Blur background",["close"]:"Close affected tabs",[""]:"Nothing"}).onChange(i=>{this.plugin.settings.privacyMode=i,this.plugin.saveSettings()}).setValue(this.plugin.settings.privacyMode)}).setDisabled(!0),new ce.Setting(r).setName("Lock graph view").setDesc(`If true, will lock the graph view
NOTE: This does NOT account for paths of any files`).addToggle(o=>{o.onChange(i=>{this.plugin.settings.blockGraph=i,this.plugin.saveSettings()}).setValue(this.plugin.settings.blockGraph)}).setDisabled(!0),new ce.Setting(r).setName("Hint").setDesc("Add a hint for your password (shown in case of > 3 failed attempts)").addText(o=>{o.setPlaceholder("Hint").onChange(i=>{this.plugin.settings.hint=i,this.plugin.saveSettings()}).setValue(this.plugin.settings.hint)}).setDisabled(!0)];let n=lr(this.plugin.settings.protectedPaths);n.subscribe(o=>{this.plugin.settings.protectedPaths=o,this.plugin.saveSettings()}),this.svelteComp=ze(eo,{target:r,props:{app:this.app,disabled:this.locked,paths:n}})}updateDisplayInPasswordBtn(){this.passwordSetting.setting.setName(this.plugin.settings.password?"Change password":"Set password"),this.passwordSetting.btn.setButtonText(this.plugin.settings.password?"Change":"Set")}onLockBtn(){Ot(this.locked)?new Mt(this.app,this.plugin.settings,r=>{r&&this.locked.set(!1)}).open():this.locked.set(!0)}onPasswordChangeButton(){new Ur(this.app,this.plugin.settings,r=>{r?(new ce.Notice("Password changed"),this.plugin.settings.password=r,this.plugin.saveSettings(),this.lockSet.setDisabled(!1),this.locked.set(!0)):new ce.Notice("Password change cancelled"),this.updateDisplayInPasswordBtn()}).open()}hide(){ot(this.svelteComp),super.hide()}},Hr=class extends ce.AbstractInputSuggest{getSuggestions(t){let r=new URL(t,"file://").pathname;return this.app.vault.getAllFolders(!0).filter(n=>{if(("/"+n.path).startsWith(r))return!0}).map(n=>n.path)}renderSuggestion(t,r){r.setText(t)}};var Gr=Symbol("Managed by Simple Password");async function Mi(e){let t=this.app.workspace.getLeafById(e);if(!t||t.view[Gr])return;t.view[Gr]=!0;let r=t.view.searchQuery;Object.defineProperty(t.view,"searchQuery",{configurable:!0,enumerable:!0,get:()=>r,set:n=>{let o=n.matcher.match.bind(n.matcher);n.matcher.match=(i,...s)=>this.isLocked&&this.isPathLocked(i.strings.filepath)?null:o(i,...s),r=n}}),await t.loadIfDeferred();try{t.view.startSearch()}catch(n){console.warn("Simple Password: Can't re-do search, first result may be compramised")}this.register(()=>{let n=this.app.workspace.getLeafById(e);!n||!n.view||!n.view[Gr]||(delete n.view[Gr],Object.defineProperty(n.view,"searchQuery",{configurable:!0,enumerable:!0,value:r,writable:!0}),n.view.startSearch())})}var Fi="Vault is locked",Js="Vault is unlocked",Bi="lock",ea="unlock",jr=class extends Ze.Plugin{constructor(){super(...arguments);this.isLocked=!0;this.isLocking=!1}async onload(){await this.loadSettings(),this.ribbonIconEl=this.addRibbonIcon(Bi,Fi,()=>{this.onIconClick()}),this.addCommand({id:"sp-lock-vault",name:"Lock vault",callback:()=>{this.lock()}}),this.registerObsidianProtocolHandler("lock",()=>{this.lock()}),this.registerEvent(this.app.workspace.on("file-open",r=>{!r||!this.isLocked||this.isPathLocked(r.path)&&this.lock()})),this.app.workspace.onLayoutReady(()=>{["create","modify","delete","rename"].forEach(r=>{this.registerEvent(this.app.vault.on(r,()=>{this.resetAutolock()}))}),this.modifyAllSearches(),this.checkForGraphs()}),this.registerEvent(this.app.workspace.on("layout-change",()=>{this.modifyAllSearches(),this.checkForGraphs()})),this.register(()=>this.removeAutolock()),this.registerEvent(this.app.workspace.on("hover-link",({linktext:r})=>{this.lastHoveredFile=r})),this.watchDom(),this.addSettingTab(new Yr(this.app,this)),this.lock()}removeAutolock(){this.autolockTimeoutID&&clearTimeout(this.autolockTimeoutID)}resetAutolock(){this.removeAutolock(),this.settings.autoLockMinutes&&(this.autolockTimeoutID=setTimeout(()=>{this.lock()},60*1e3*this.settings.autoLockMinutes))}isPathLocked(r){for(let n of this.settings.protectedPaths){let o=new URL(n,"file://").pathname;if(("/"+r).startsWith(o))return!0}return!1}watchDom(){let r=new MutationObserver(()=>{var i,s;if(!this.isLocked||this.isLocking)return;let n=document.querySelector(".internal-embed[src]");if(n){let f=(i=n.attributes.getNamedItem("src"))==null?void 0:i.value;if(f&&((s=this.app.metadataCache.getFirstLinkpathDest(f,""))==null?void 0:s.path)){let a=this.app.workspace.getActiveFile(),u=this.app.workspace.getMostRecentLeaf();if(u&&a){this.lock(!0,[{leaf:u,type:"file",file:a}]);return}}}let o=document.querySelector(".popover.hover-popover");if(o&&this.isPathLocked(this.lastHoveredFile))return o.remove(),this.lock(!0),!0});r.observe(document.body,{childList:!0,subtree:!0}),this.register(()=>r.disconnect())}async lock(r=!1,n=[]){if(this.isLocking||!this.settings.password)return;this.isLocked=!0,this.isLocking=!0,this.setRibbonIcon(!0),this.removeAutolock();let o=[...n];if(this.app.workspace.iterateAllLeaves(i=>{!i||!i.view||(i.view instanceof Ze.FileView&&i.view.file?this.isPathLocked(i.view.file.path)&&o.push({leaf:i,type:"file",file:i.view.file}):i.view.getViewType()=="graph"&&this.settings.blockGraph&&o.push({leaf:i,type:"graph"}))}),!r&&o.length==0){this.isLocking=!1;return}this.settings.privacyMode=="close"&&o.forEach(i=>{i.leaf.detach()}),this.requestUserToUnlock(o)}requestUserToUnlock(r=[]){new Mt(this.app,this.settings,n=>{this.isLocked=!n,this.isLocking=!1,n?(this.setRibbonIcon(!1),this.resetAutolock(),new Ze.Notice("Vault unlocked"),this.settings.privacyMode=="close"&&r.forEach(o=>{o.type=="file"?this.app.workspace.getLeaf("tab").openFile(o.file):o.type=="graph"&&this.app.workspace.getLeaf("tab").setViewState({type:"graph"})})):(new Ze.Notice("Password prompt cancelled"),this.settings.privacyMode=="blur"&&r.forEach(o=>o.leaf.detach()))}).open()}onIconClick(){this.isLocked?this.requestUserToUnlock():this.lock()}setRibbonIcon(r){this.ribbonIconEl.ariaLabel=r?Fi:Js,(0,Ze.setIcon)(this.ribbonIconEl,r?Bi:ea)}async loadSettings(){this.settings=Object.assign({},Oi,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}modifyAllSearches(){this.app.workspace.getLeavesOfType("search").forEach(r=>{r&&Mi.call(this,r.id)})}checkForGraphs(){this.isLocked&&this.settings.blockGraph&&this.app.workspace.getLeavesOfType("graph").length>0&&this.lock()}async onExternalSettingsChange(){await this.loadSettings(),await this.lock()}};

/* nosourcemap */